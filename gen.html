<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALSI Legal Process Navigator</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            /* Dark Earthy Color Palette */
            --bg-dark: #121210; /* Dark Charcoal - main background */
            --bg-darker: #0a0a08; /* Near Black - secondary backgrounds */
            --bg-card: #1e1e1c; /* Card/Container backgrounds */
            
            --text-primary: #444444; /* Soft White - primary text */
            --text-secondary: #b0b0a0; /* Warm Gray - secondary text */
            
            /* Accents (Earthy Palette) */
            --accent-primary: #D4A373; /* Earthy Tan - Primary accent */
            --accent-secondary: #CCD5AE; /* Soft Sage - Secondary accent */
            --accent-tertiary: #393939; /* Light Sage - Tertiary accent */
            --accent-bg: #FAEDCD; /* Warm Vanilla - Background accents */
            
            /* Utility Colors */
            --border-primary: rgba(212, 163, 115, 0.3); /* Tan with 30% opacity */
            --border-subtle: rgba(212, 163, 115, 0.1); /* Tan with 10% opacity */
            
            --bg-gradient: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-dark);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        header {
            background: var(--bg-gradient);
            color: var(--text-primary);
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 15s infinite linear;
            opacity: 0.3;
        }
        @keyframes pulse {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
            position: relative;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: 10px;
            position: relative;
            color: var(--accent-tertiary);
        }
        .input-section {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            margin: 40px 0;
            border: 1px solid var(--border-primary);
            transform: translateY(20px);
            opacity: 0;
            animation: fadeInUp 0.8s ease-out forwards;
            animation-delay: 0.2s;
        }
        @keyframes fadeInUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        .form-group {
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--accent-primary);
            font-size: 1.1rem;
        }
        select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border-primary);
            border-radius: 8px;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
            background-color: var(--bg-card);
            color: #b9aeae;
        }
        select:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-secondary);
            box-shadow: 0 0 0 4px rgba(204, 213, 174, 0.2);
        }
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--accent-primary);
            color: var(--bg-dark);
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 163, 115, 0.3);
            position: relative;
            overflow: hidden;
        }
        .btn:hover {
            background-color: var(--accent-secondary);
            color: var(--bg-dark);
            box-shadow: 0 6px 20px rgba(212, 163, 115, 0.4);
            transform: translateY(-3px);
        }
        .btn:active {
            transform: translateY(1px);
        }
        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%, -50%);
            transform-origin: 50% 50%;
        }
        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 1;
            }
            100% {
                transform: scale(25, 25);
                opacity: 0;
            }
        }
        .btn-icon {
            margin-left: 10px;
            transition: transform 0.3s ease;
        }
        .btn:hover .btn-icon {
            transform: translateX(5px);
        }
        .flowchart-container {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            margin-bottom: 40px;
            border: 1px solid var(--border-primary);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }
        .flowchart-container.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .flowchart-title {
            color: var(--accent-primary);
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-primary);
            position: relative;
        }
        .flowchart-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100px;
            height: 2px;
            background: var(--accent-secondary);
        }
        .flowchart {
            min-width: 100%;
            position: relative;
            padding: 30px 0;
        }
        .timeline {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, var(--accent-primary), var(--accent-secondary));
            transform: translateX(-50%);
            z-index: 1;
        }
        .node {
            position: relative;
            margin: 25px auto;
            width: 80%;
            max-width: 650px;
            padding: 20px;
            border-radius: 10px;
            background: var(--bg-darker);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            border-left: 6px solid var(--accent-primary);
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(20px);
            z-index: 2;
            border: 1px solid var(--border-primary);
        }
        .node.visible {
            animation: slideIn 0.6s ease-out forwards;
        }
        @keyframes slideIn {
            from {
                transform: translateY(20px) scale(0.95);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }
        .node:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
            border-left-color: var(--accent-secondary);
        }
        .node-title {
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 12px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        .node-icon {
            margin-right: 10px;
            color: var(--accent-secondary);
            font-size: 1.4rem;
        }
        .node-content {
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.7;
        }
        .node-documents {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed var(--border-primary);
            font-size: 0.95rem;
        }
        .node-documents span {
            font-weight: 600;
            color: var(--accent-tertiary);
        }
        .document-list {
            margin-top: 8px;
            padding-left: 20px;
            list-style-type: none;
        }
        .document-list li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 25px;
            color: var(--text-secondary);
        }
        .document-list li::before {
            content: '\f054';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            left: 0;
            color: var(--accent-secondary);
            font-size: 0.8rem;
        }
        .connector {
            position: absolute;
            left: 50%;
            bottom: -25px;
            width: 3px;
            height: 25px;
            background: linear-gradient(to bottom, var(--accent-primary), var(--accent-secondary));
            transform: translateX(-50%);
            z-index: 1;
        }
        .disclaimer {
            background-color: rgba(212, 163, 115, 0.1);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-primary);
            margin: 40px 0;
            font-size: 0.95rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            color: var(--text-secondary);
        }
        .disclaimer strong {
            color: var(--accent-primary);
        }
        .loading {
            display: none;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(212, 163, 115, 0.2);
            border-radius: 50%;
            border-top-color: var(--accent-secondary);
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            .input-section, .flowchart-container {
                padding: 20px;
            }
            .node {
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>ALSI Legal Process Navigator</h1>
            <p class="subtitle">Map your legal journey with clear, step-by-step guidance</p>
        </div>
    </header>
    <main class="container">
        <section class="input-section">
            <div class="form-group">
                <label for="caseType"><i class="fas fa-balance-scale"></i> Select Legal Matter</label>
                <select id="caseType">
                    <option value="">-- Select a legal matter --</option>
                    <option value="divorce">Divorce Proceedings</option>
                    <option value="fir">FIR Registration</option>
                    <option value="property">Property Dispute</option>
                    <option value="consumer">Consumer Complaint</option>
                    <option value="maintenance">Maintenance Case</option>
                </select>
            </div>
            <div class="form-group">
                <label for="scenario"><i class="fas fa-clipboard-question"></i> Describe Your Situation</label>
                <textarea id="scenario" placeholder="e.g. 'I need to file for divorce on mutual consent' or 'I want to register an FIR for property theft'"></textarea>
            </div>
            <button id="generateBtn" class="btn">
                Generate Process Map <i class="fas fa-arrow-right btn-icon"></i>
            </button>
        </section>
        <div class="loading" id="loadingIndicator">
            <div class="spinner"></div>
        </div>
        <section class="flowchart-container" id="flowchartContainer">
            <h2 class="flowchart-title" id="flowchartTitle"></h2>
            <div class="flowchart" id="flowchart">
                <div class="timeline"></div>
            </div>
        </section>
        <div class="disclaimer">
            <strong><i class="fas fa-exclamation-triangle"></i> Disclaimer:</strong> This ALSI tool provides general information about legal procedures and is not a substitute for professional legal advice. Always consult with a qualified attorney for your specific situation.
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generateBtn');
            const flowchartContainer = document.getElementById('flowchartContainer');
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            generateBtn.addEventListener('click', async function() {
                const caseType = document.getElementById('caseType').value;
                const scenario = document.getElementById('scenario').value.trim();
                
                if (!caseType) {
                    showAlert('Please select a legal matter', 'warning');
                    return;
                }
                if (!scenario) {
                    showAlert('Please describe your situation', 'warning');
                    return;
                }
                
                loadingIndicator.style.display = 'flex';
                flowchartContainer.classList.remove('visible');
                document.getElementById('flowchart').innerHTML = '<div class="timeline"></div>';
                document.getElementById('flowchartTitle').textContent = `${getCaseTypeName(caseType)}: ${scenario}`;
                
                await new Promise(resolve => setTimeout(resolve, 800));
                await generateFlowchart(caseType, scenario);
                
                loadingIndicator.style.display = 'none';
                flowchartContainer.classList.add('visible');
            });

            async function generateFlowchart(caseType, scenario) {
                const flowchart = document.getElementById('flowchart');
                switch(caseType) {
                    case 'divorce':
                        await generateDivorceFlowchart(flowchart, scenario);
                        break;
                    case 'fir':
                        await generateFIRFlowchart(flowchart, scenario);
                        break;
                    case 'property':
                        await generatePropertyFlowchart(flowchart, scenario);
                        break;
                    case 'consumer':
                        await generateConsumerFlowchart(flowchart, scenario);
                        break;
                    case 'maintenance':
                        await generateMaintenanceFlowchart(flowchart, scenario);
                        break;
                }
            }

            function getCaseTypeName(caseType) {
                const names = {
                    'divorce': 'Divorce Case',
                    'fir': 'FIR Registration',
                    'property': 'Property Dispute',
                    'consumer': 'Consumer Complaint',
                    'maintenance': 'Maintenance Case'
                };
                return names[caseType] || 'Legal Case';
            }

            function createNode(title, content, documents = [], icon = 'clipboard-list') {
                const node = document.createElement('div');
                node.className = 'node';
                
                const titleEl = document.createElement('div');
                titleEl.className = 'node-title';
                titleEl.innerHTML = `<i class="fas fa-${icon} node-icon"></i> ${title}`;
                
                const contentEl = document.createElement('div');
                contentEl.className = 'node-content';
                contentEl.textContent = content;
                
                node.appendChild(titleEl);
                node.appendChild(contentEl);
                
                if (documents.length > 0) {
                    const docsEl = document.createElement('div');
                    docsEl.className = 'node-documents';
                    docsEl.innerHTML = `<span><i class="fas fa-file-alt"></i> Documents required:</span>`;
                    
                    const docList = document.createElement('ul');
                    docList.className = 'document-list';
                    
                    documents.forEach(doc => {
                        const li = document.createElement('li');
                        li.textContent = doc;
                        docList.appendChild(li);
                    });
                    
                    docsEl.appendChild(docList);
                    node.appendChild(docsEl);
                }
                
                const connector = document.createElement('div');
                connector.className = 'connector';
                node.appendChild(connector);
                
                node.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                });
                
                return node;
            }

            async function generateDivorceFlowchart(flowchart, scenario) {
                const isMutual = scenario.toLowerCase().includes('mutual');
                
                if (isMutual) {
                    const steps = [
                        {
                            title: 'Mutual Agreement',
                            content: 'Both spouses must agree to dissolve the marriage and settle terms for alimony, child custody, and property division.',
                            documents: ['Marriage certificate', 'Proof of residence', 'Photos of spouses'],
                            icon: 'handshake'
                        },
                        {
                            title: 'Drafting Petition',
                            content: 'File a joint petition under Section 13B of Hindu Marriage Act in district court where couple last resided together.',
                            documents: ['Joint petition form', 'Affidavits from both parties', 'Marriage proof documents'],
                            icon: 'file-contract'
                        },
                        {
                            title: 'First Motion Hearing',
                            content: 'Court examines petition and records statements. First motion is passed with mandatory waiting period of 6-18 months.',
                            documents: ['Court fee receipt', 'Statement recordings', 'Affidavit of voluntary consent'],
                            icon: 'gavel'
                        },
                        {
                            title: 'Second Motion Hearing',
                            content: 'After waiting period, second motion is filed. Court verifies no reconciliation occurred and may grant decree immediately.',
                            documents: ['Second motion petition', 'Affidavit of no reconciliation', 'Updated settlement terms if any'],
                            icon: 'user-clock'
                        },
                        {
                            title: 'Divorce Decree',
                            content: 'Court grants divorce decree if satisfied with mutual consent. Process typically completes in 6-24 months total.',
                            documents: ['Court decree copy', 'Stamp paper for settlement terms', 'Certified copy for records'],
                            icon: 'file-signature'
                        }
                    ];
                    await renderStepsWithDelay(flowchart, steps);
                } else {
                    const steps = [
                        {
                            title: 'Establish Grounds',
                            content: 'Petitioner must establish valid grounds: cruelty, desertion, adultery, conversion, mental disorder, etc. with supporting evidence.',
                            documents: ['Evidence supporting grounds', 'Marriage certificate', 'Medical reports if applicable'],
                            icon: 'search'
                        },
                        {
                            title: 'File Divorce Petition',
                            content: 'File divorce petition in appropriate family court with jurisdiction. Pay required court fees based on sought relief.',
                            documents: ['Petition form', 'Affidavit', 'Marriage proof', 'Residence proof', 'Grounds evidence'],
                            icon: 'file-upload'
                        },
                        {
                            title: 'Court Notice & Response',
                            content: 'Court issues notice to respondent who must file response within 90 days (extendable). Respondent can contest grounds.',
                            documents: ['Court notice copy', 'Response documents', 'Counter-evidence if any'],
                            icon: 'envelope-open-text'
                        },
                        {
                            title: 'Evidence & Hearings',
                            content: 'Both parties present evidence through documents and witnesses. Court may suggest mediation/reconciliation attempts.',
                            documents: ['Witness statements', 'Documentary evidence', 'Mediation reports', 'Cross-examination records'],
                            icon: 'users'
                        },
                        {
                            title: 'Final Judgment',
                            content: 'Court examines evidence and grants divorce decree if satisfied. Process may take 2-5 years depending on complexity.',
                            documents: ['Court judgment copy', 'Stamp paper for orders', 'Certified copies for enforcement'],
                            icon: 'balance-scale-left'
                        }
                    ];
                    await renderStepsWithDelay(flowchart, steps);
                }
            }

            async function generateFIRFlowchart(flowchart, scenario) {
                const isTheft = scenario.toLowerCase().includes('theft');
                const isAssault = scenario.toLowerCase().includes('assault');
                const isFraud = scenario.toLowerCase().includes('fraud');
                const isCyber = scenario.toLowerCase().includes('cyber');
                
                const steps = [
                    {
                        title: 'Visit Police Station',
                        content: 'Approach police station with jurisdiction where crime occurred. Provide detailed oral/written complaint to duty officer.',
                        documents: ['ID proof', 'Any available evidence', 'Crime details with timeline'],
                        icon: 'building-shield'
                    },
                    {
                        title: 'FIR Registration',
                        content: 'Police must register FIR for cognizable offenses under Section 154 CrPC. Obtain signed FIR copy with number, date, and seal.',
                        documents: ['Complaint copy', 'ID proof for verification', 'Witness details if any'],
                        icon: 'file-invoice'
                    }
                ];
                
                if (isTheft) {
                    steps.push({
                        title: 'Theft Investigation',
                        content: 'Police will investigate by gathering CCTV footage, questioning suspects, attempting to recover stolen property.',
                        documents: ['Property ownership proof', 'Purchase receipts', 'Witness statements', 'CCTV evidence if available'],
                        icon: 'search-location'
                    });
                } else if (isAssault) {
                    steps.push({
                        title: 'Assault Investigation',
                        content: 'Police will record detailed statements, collect medical reports, identify perpetrators through evidence and witnesses.',
                        documents: ['Medical reports', 'Injury photographs', 'Witness statements', 'Weapon details if any'],
                        icon: 'user-injured'
                    });
                } else if (isFraud) {
                    steps.push({
                        title: 'Fraud Investigation',
                        content: 'Police will examine financial transactions, documents, digital evidence to trace fraudulent activities and perpetrators.',
                        documents: ['Bank statements', 'Contracts/agreements', 'Communication records', 'Transaction proofs'],
                        icon: 'money-bill-wave'
                    });
                } else if (isCyber) {
                    steps.push({
                        title: 'Cyber Crime Investigation',
                        content: 'Special cyber cell will analyze digital evidence, trace IP addresses, recover electronic evidence with forensic tools.',
                        documents: ['Screenshots', 'Device details', 'Email/SMS records', 'URLs and timestamps'],
                        icon: 'laptop-code'
                    });
                } else {
                    steps.push({
                        title: 'General Investigation',
                        content: 'Police will conduct investigation based on offense nature: collect evidence, question witnesses, visit crime scene.',
                        documents: ['Any relevant evidence', 'Witness contact information', 'Crime scene details'],
                        icon: 'microscope'
                    });
                }
                
                steps.push(
                    {
                        title: 'Chargesheet or Closure',
                        content: 'Within 60-90 days, police file chargesheet (if evidence found) or closure report (if no evidence). Victim can protest closure.',
                        documents: ['Chargesheet copy if filed', 'Court summons if applicable', 'Closure protest petition if needed'],
                        icon: 'file-export'
                    },
                    {
                        title: 'Court Proceedings',
                        content: 'If chargesheet filed, case proceeds to trial. Complainant may need to testify as witness during hearings.',
                        documents: ['Court notices', 'Evidence preservation', 'Witness preparation'],
                        icon: 'gavel'
                    }
                );
                
                await renderStepsWithDelay(flowchart, steps);
            }

            async function generatePropertyFlowchart(flowchart, scenario) {
                const isDispute = scenario.toLowerCase().includes('dispute');
                const isIllegal = scenario.toLowerCase().includes('illegal');
                const isPossession = scenario.toLowerCase().includes('possession');
                
                const steps = [
                    {
                        title: 'Document Verification',
                        content: 'Verify all property documents for authenticity and completeness. Check title chain, encumbrances, and current status.',
                        documents: ['Title deed', 'Sale agreement', 'Property tax receipts', 'Encumbrance certificate', 'Mutation records'],
                        icon: 'file-certificate'
                    }
                ];
                
                if (isDispute) {
                    steps.push({
                        title: 'Legal Notice',
                        content: 'Send formal legal notice to opposing party detailing your claim and demanding resolution within stipulated timeframe.',
                        documents: ['Drafted notice by lawyer', 'Supporting documents', 'Postal proof of delivery'],
                        icon: 'envelope'
                    });
                }
                
                if (isIllegal) {
                    steps.push({
                        title: 'Police Complaint',
                        content: 'For illegal possession/construction, file police complaint along with proof of ownership and violation evidence.',
                        documents: ['Ownership proof', 'Photographs of violation', 'Witness statements', 'Previous complaints if any'],
                        icon: 'police-box'
                    });
                }
                
                steps.push(
                    {
                        title: 'Mediation Attempt',
                        content: 'Attempt mediation through local authorities, RWA, or court-annexed mediation centers before formal litigation.',
                        documents: ['Mediation request', 'Property documents', 'Settlement proposal drafts'],
                        icon: 'hands-helping'
                    },
                    {
                        title: 'File Civil Suit',
                        content: 'File appropriate civil suit in court (based on property value): declaration, possession, injunction, or partition suit.',
                        documents: ['Plaint', 'Court fee', 'Document copies', 'Valuation report', 'Map/site plan'],
                        icon: 'file-import'
                    },
                    {
                        title: 'Court Process',
                        content: 'Case proceeds through evidence collection, witness examination, arguments, and final judgment. Typically takes 3-10 years.',
                        documents: ['Court notices', 'Evidence submissions', 'Witness lists', 'Vakalatnama'],
                        icon: 'balance-scale'
                    }
                );
                
                await renderStepsWithDelay(flowchart, steps);
            }

            async function generateConsumerFlowchart(flowchart, scenario) {
                const steps = [
                    {
                        title: 'Written Complaint',
                        content: 'Send detailed written complaint to seller/service provider with grievance details, relief sought, and reasonable timeframe.',
                        documents: ['Purchase proofs', 'Warranty/agreement copies', 'Defect evidence', 'Communication records'],
                        icon: 'file-alt'
                    },
                    {
                        title: 'District Forum Filing',
                        content: 'If no resolution, file complaint with District Consumer Forum (for claims ≤ ₹1 crore) within 2 years of cause of action.',
                        documents: ['Complaint form', 'Supporting documents', 'Court fee', 'Affidavit'],
                        icon: 'file-medical'
                    },
                    {
                        title: 'Hearing Process',
                        content: 'Forum will hear both parties, may order product testing or expert opinion. Attempt settlement through conciliation.',
                        documents: ['Evidence submissions', 'Expert reports if any', 'Witness statements'],
                        icon: 'user-tie'
                    },
                    {
                        title: 'Forum Order',
                        content: 'Forum may order replacement, refund, compensation (up to ₹1 crore) or dismiss case. Typically decided within 3-6 months.',
                        documents: ['Order copy', 'Compliance proof if awarded', 'Execution petition if needed'],
                        icon: 'file-prescription'
                    },
                    {
                        title: 'Appeal Process',
                        content: 'Can appeal to State Commission within 30 days if dissatisfied. Further appeal to National Commission then Supreme Court.',
                        documents: ['Appeal petition', 'Original case documents', 'Grounds of appeal'],
                        icon: 'arrow-circle-up'
                    }
                ];
                
                await renderStepsWithDelay(flowchart, steps);
            }

            async function generateMaintenanceFlowchart(flowchart, scenario) {
                const isWife = scenario.toLowerCase().includes('wife');
                const isChild = scenario.toLowerCase().includes('child');
                const isParents = scenario.toLowerCase().includes('parent');
                
                const steps = [
                    {
                        title: 'Determine Eligibility',
                        content: 'Establish eligibility under relevant laws (Section 125 CrPC, Hindu Marriage Act, Domestic Violence Act etc.) based on relationship.',
                        documents: ['Relationship proof', 'Income documents', 'Needs assessment'],
                        icon: 'search'
                    }
                ];
                
                if (isWife) {
                    steps.push({
                        title: 'Wife Maintenance',
                        content: 'Wife unable to maintain herself can claim maintenance from husband under Section 125 CrPC or Hindu Marriage Act Section 24.',
                        documents: ['Marriage proof', 'Income proof of both', 'Expense details', 'Evidence of neglect'],
                        icon: 'female'
                    });
                } else if (isChild) {
                    steps.push({
                        title: 'Child Maintenance',
                        content: 'Minor children (legitimate or illegitimate) and major disabled children can claim maintenance from parents.',
                        documents: ['Birth certificate', 'Disability certificate if any', 'Education expense proofs'],
                        icon: 'child'
                    });
                } else if (isParents) {
                    steps.push({
                        title: 'Parents Maintenance',
                        content: 'Parents unable to maintain themselves can claim maintenance from adult children under Section 125 CrPC.',
                        documents: ['Age proof', 'Income proof', 'Medical reports', 'Dependency proof'],
                        icon: 'user-alt'
                    });
                }
                
                steps.push(
                    {
                        title: 'File Maintenance Petition',
                        content: 'File petition in appropriate court (Family Court/Magistrate Court) with details of income, expenses, and claimed amount.',
                        documents: ['Petition form', 'Affidavit', 'Supporting documents', 'Court fee'],
                        icon: 'file-import'
                    },
                    {
                        title: 'Interim Maintenance',
                        content: 'Court may award interim maintenance during case pendency after preliminary examination of financial positions.',
                        documents: ['Interim order copy', 'Bank details for payment'],
                        icon: 'file-invoice-dollar'
                    },
                    {
                        title: 'Final Hearing',
                        content: 'Court examines income, standard of living, and needs to determine appropriate maintenance amount through detailed hearing.',
                        documents: ['Income proofs', 'Expense bills', 'Lifestyle evidence', 'Counter-arguments'],
                        icon: 'balance-scale'
                    },
                    {
                        title: 'Maintenance Order',
                        content: 'Court passes final order specifying monthly amount and payment method. Order can be modified later based on changed circumstances.',
                        documents: ['Final order copy', 'Payment records', 'Enforcement petition if defaulted'],
                        icon: 'file-contract'
                    }
                );
                
                await renderStepsWithDelay(flowchart, steps);
            }

            async function renderStepsWithDelay(flowchart, steps) {
                for (let i = 0; i < steps.length; i++) {
                    const step = steps[i];
                    const node = createNode(step.title, step.content, step.documents, step.icon);
                    flowchart.appendChild(node);
                    
                    setTimeout(() => {
                        node.classList.add('visible');
                    }, i * 300);
                    
                    await new Promise(resolve => setTimeout(resolve, 50));
                }
            }

            function showAlert(message, type = 'info') {
                const alert = document.createElement('div');
                alert.style.position = 'fixed';
                alert.style.top = '20px';
                alert.style.right = '20px';
                alert.style.padding = '15px 25px';
                alert.style.backgroundColor = 'var(--bg-card)';
                alert.style.color = 'var(--text-primary)';
                alert.style.borderRadius = '8px';
                alert.style.boxShadow = '0 4px 15px rgba(0,0,0,0.2)';
                alert.style.borderLeft = '4px solid var(--accent-primary)';
                alert.style.zIndex = '1000';
                alert.style.transform = 'translateX(200%)';
                alert.style.transition = 'transform 0.4s ease';
                alert.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${message}`;
                
                document.body.appendChild(alert);
                
                setTimeout(() => {
                    alert.style.transform = 'translateX(0)';
                }, 10);
                
                setTimeout(() => {
                    alert.style.transform = 'translateX(200%)';
                    setTimeout(() => {
                        document.body.removeChild(alert);
                    }, 400);
                }, 3000);
            }
        });
    </script>
</body>
</html>